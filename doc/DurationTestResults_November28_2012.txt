28 November 2012:
=================

Duration Test
=============

Preparation:
------------

File "src/test/resources/durations_expected.txt" 
has comma separated values for 
1. file no,
2. original time specified/annotated (duration for length of anti-platelet therapy),
3. expected duration value in months,
4. original time specified/annotated (duration between implantation and LST),
5. expected duration value in months.

This file is created from Kim's input (an excel file she sent).

Method:
-------

1. Find the normalized event owl classes in the model.
2. Find instances of normalized owl classes chosen in step 2.
3. Duration needs start and end point. Identify instances found in step 2
   as start and end times.
4. Calculate duration using the CNTRO API and compare it with expected. 
5. If start event time or end event time is not retrievable, then calculate
   duration using only either start or end event time.
   
Test Results:
-------------

Total annotated owl files = 110

Length/Duration of anti-platelet therapy:
-----------------------------------------

Appropriate annotations found in files = 11
Correctly computed duration for files = 11
Failed = 0
Accuracy = 100%

File numbers processed with valid instances:
126, 124, 283, 59, 274, 35, 256, 251, 85, 17, 141

Duration between implantation and LST:
--------------------------------------

Appropriate annotations found in files = 9
Correctly computed duration for files = 8
Failed = 1
Accuracy = 89%

File numbers processed with valid instances:
215, 279, 212, 210, 272, 144, 141, 233, 

File Number 195 (APIs faild to compute correct duration)

For two files 279, and 272, the expected durations adjusted
to incorporate Kim's duration calculations in months, translated 
from granularity in year.

#########################################################
January 14, 2013

Issues:
=======
This section tries to list out some obvious problems and 
issues with annotations in set of normalized OWL files.

* TYPE 1 Duration: Duration between (or from duration annotation 
  for instances of 'StartAntiplateletTherapy' and 'EndAntiplateletTherapy'.

* TYPE 2 Duration: Duration between (or from duration annotation 
  for instances of 'InitialDrugElutingStentImplantation' and 'Late_Stent_Thrombosis'.
  
File # 96
---------
Type 1 and type 2 expected durations is 1 month (for each type),
But in the OWL file there was no instance defined and linked to the appropriate
normalized category types.  Indication of 1 month duration was also not found in
event descriptions either.
there were three instnaces of durations "Following month", "Two days" and "Next day",
but these instances were not linked to any instances of event.
There was no way for a query processing program to figure out the duration.

File # 60
---------
Very similar to file 96. No duration instance liked to an event.
I found two instances of Duration "63 Days" and "A Few hours", but not linked to any 
instances.









